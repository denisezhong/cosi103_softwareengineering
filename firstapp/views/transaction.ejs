<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">

<h1>Transactions for <%= user.username %></h1>
<p>Here is your list of things to do!</p>

<div class="row">
    <button 
        onclick="location.href='transaction/category'">group by category</button>
    <button
        onclick="location.href='transaction?sortBy=category'">sort by category</button>
    <button 
        onclick="location.href='transaction?sortBy=amount'">sort by amount</button>
    <button 
        onclick="location.href='transaction?sortBy=item'">sort by item</button>
    <button 
        onclick="location.href='transaction?sortBy=date'">sort by date</button>
</div>

<div class="table-responsive">
    <table class="table">
        <thead> <tr>
            <th></th>
            <th>item</th> 
            <th>description</th>
            
            <th>amount</th>
            <th>category</th>
            <th>date</th>
            <th>delete</th>                
            <th>edit</th>
        </tr></thead>
        <tbody>
            <% transactions.forEach(transaction => { %>
                <tr><td> </td>
                    <td><%= transactions.item %></td>
                    <td><%= transactions.des %></td>
                    
                    <td><%= transaction.amount %></td>
                    <td><%= transaction.category %></td>
                    <td><%= transaction.date %></td>
                    <td><a href='/transaction/delete/<%= transaction._id %>'>
                            <i class="bi bi-trash"></i></a>
                    </td><td><a href='/transaction/edit/<%= transaction._id %>'>
                            <i class="bi bi-pencil-square"></i></a>
                    </td</tr><% }); %>
        </tbody>
    </table>
</div>

<h1>Add New Transaction</h1>
<form method="post" action="transaction">
    item: <input type="text" name="item"><br>
    description: <input type="text" name="des"><br>
    category: <input type="text" name="category" ><br>
    amount: <input type="number" name="amount" ><br>
    date: <input type="date" name="date" ><br>
    <input type="submit" value="store">
</form>